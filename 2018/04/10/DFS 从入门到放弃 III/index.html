<!DOCTYPE HTML>
<html>
<head >
  <meta charset="utf-8">
  
  <title>DFS 从入门到放弃 III | Evelynone</title>

  
  <meta name="author" content="Evelyn">
  

  
  <meta name="description" content="DFS 的特点是, 从哪儿来的状态回到哪儿去(Back Tracking).DFS 的思路是, 执行多少层, 每层都有什么状态.">
  

  
  
  <meta name="keywords" content="Data Structure,Algorithm">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="DFS 从入门到放弃 III"/>

  <meta property="og:site_name" content="Evelynone"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  
  <link rel="manifest" href="/manifest.json">
  <link href="/favicon.ico" rel="icon">

  <link rel="alternate" href="/atom.xml" title="Evelynone" type="application/atom+xml">
  <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/base/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">


</head>


<body>
<div class="blog">
  <div class="content">

    

    <header class="header-container" style="background-image: url('/images/blog-bg.jpg');">


<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header page-scroll">
          <button type="button" id="tglBtn" class="navbar-toggle">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">Evelyn</a>
        </div>
        <div id="bosenyblog-navbar">
          <div class="navbar-collapse" id="bs-example-navbar-collapse-6">
            <ul class="nav navbar-nav navbar-right">
            
              <li><a href="/">Home</a></li>
            
              <li><a href="/archives">Archives</a></li>
            
              <li><a href="/about">About</a></li>
            
              <li><a href="/tags">Tags</a></li>
            
              <li><a href="/categories">Categories</a></li>
            
            </ul>
          </div>
        </div>

    </div>
 </nav>
 <div class="gotop-btn">

 </div>
</header>

        

          <div class="container ">
          <div class="row">
            <main class="site-main posts-loop col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container" style="position: inherit;">
            <article class="article-container ">

  
    
    <h3 class="article-title"><span>DFS 从入门到放弃 III</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2018/04/10/DFS 从入门到放弃 III/" rel="bookmark">
        <time class="entry-date published" datetime="2018-04-10T19:41:28.385Z">
          04-10-2018
        </time>
      </a>
    </span>
    <br />
    
    <span id="busuanzi_container_page_pv">
      本文总阅读量<span id="busuanzi_value_page_pv"></span>次
    </span>
    
  </div>


  

  <div class="article-content">
    <div class="entry">
      
          <p>DFS 的特点是, 从哪儿来的状态回到哪儿去(Back Tracking).<br>DFS 的思路是, 执行多少层, 每层都有什么状态.</p>
<a id="more"></a>
<p>与 subset 的类型不太相同的是, subset 通常从”空”出发, 在每一个节点选择是否要选择某个元素, 以及是否继续向下(后)搜索.<br>排列的问题每一个元素都要参与到结果当中, 而顺序决定结果. 可以从”空”出发, 那么只有最后一层的结果是有效的; 也可以从”满”出发, 每一个不相同的排列顺序都是有效的. 原理都是相同的 ––– 每一个元素都要出现在每一个位置上. </p>
<h3 id="Permutation"><a href="#Permutation" class="headerlink" title="Permutation"></a>Permutation</h3><p><code>input:</code> A linear data structure like an array, a string, etc. No duplicated element.<br><code>output:</code> A list of lists of all permutations.</p>
<ul>
<li>对于每一个元素来说, 它要尝试每一个位置. 或者说<strong>对于每一个位置来说, 它有 n 种选择</strong>.</li>
<li>在第 i 层的时候, 有 n - i 个选择.</li>
<li>需要注意的是, 这里 for 循环是用来控制层数而不是状态的.<br><img src="/images/permI.png" alt=""><br>For each position i, it has at most (n - i) - i choices, where i represents the level of the node. Therefore, the time complexity would be O(n!).<br>This case chooses to use a boolean array to indicate the elements that has appeared in the subsolution. This costs O(n). And the depth of the recursive call would be n, so the call stack would take O(n). Thus, the space would be O(2n) ==&gt; O(n).</li>
</ul>
<p>代码如下:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Permutation</span> </span>&#123;</span><br><span class="line">	<span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; permutation(<span class="keyword">int</span>[] input) &#123;</span><br><span class="line">		<span class="keyword">if</span> (input == <span class="keyword">null</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		dfs(input, <span class="keyword">new</span> HashSet&lt;&gt;(), <span class="keyword">new</span> ArrayList&lt;&gt;(), result);</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[] input,</span></span></span><br><span class="line"><span class="function"><span class="params">			Set&lt;Integer&gt; occ,</span></span></span><br><span class="line"><span class="function"><span class="params">			List&lt;Integer&gt; sub,</span></span></span><br><span class="line"><span class="function"><span class="params">			List&lt;List&lt;Integer&gt;&gt; result)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (sub.size() == input.length) &#123;</span><br><span class="line">			result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(sub));</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; input.length; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (occ.contains(input[i])) &#123;</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			sub.add(input[i]);</span><br><span class="line">			occ[i] = <span class="keyword">true</span>;</span><br><span class="line">			dfs(input, occ, sub, result);</span><br><span class="line">			sub.remove(sub.size() - <span class="number">1</span>);</span><br><span class="line">			occ[i] = <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这道题可以不需要额外的数组来判断当前层的元素. 依然只关注 dfs, 不考虑优化, 笔芯❤~</p>
<hr>
<h3 id="Permutation-II"><a href="#Permutation-II" class="headerlink" title="Permutation II"></a>Permutation II</h3><p><code>input:</code> A linear data structure like an array, a string, etc. With DUPLICATED elements.<br><code>output:</code> A list of lists of all UNIQUE permutations.</p>
<ul>
<li>有重复元素, 如何去重?</li>
<li>其实和 SubsetII 有重复元素是一样的道理(排序的判断条件可能会有些不同).</li>
<li>在每一个节点都需要判断一下这个元素是不是当前层的第一个被使用的元素, 所以每一个层都需要一个 HashSet.</li>
<li>如果当前层已经使用过这个元素了, 那么后续就不考虑了.</li>
</ul>
<p><img src="/images/permII.png" alt=""></p>
<p>At each position i, it has n - i times choices, as same as the regular permutation.<br>A HashSet is used to deduplicate. At each level i, at most n - i space would be taken to save visited element. Space complexity would be n + (n - 1) + (n - 2) + (n - 3) + …. + 2 + 1 = O (n^2).</p>
<p>代码如下:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">```java</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Permutation</span> </span>&#123;</span><br><span class="line">	<span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; permutation(<span class="keyword">int</span>[] input) &#123;</span><br><span class="line">		<span class="keyword">if</span> (input == <span class="keyword">null</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		<span class="comment">//dfs(input, new HashSet&lt;&gt;(), new ArrayList&lt;&gt;(), result);</span></span><br><span class="line">		dfs(input, <span class="keyword">new</span> ArrayList&lt;&gt;(), result)</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[] input,</span></span></span><br><span class="line"><span class="function"><span class="params">		<span class="comment">/*Set&lt;Integer&gt; occ,*/</span></span></span></span><br><span class="line"><span class="function"><span class="params">		List&lt;Integer&gt; sub,</span></span></span><br><span class="line"><span class="function"><span class="params">		List&lt;List&lt;Integer&gt;&gt; result)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (sub.size() == input.length) &#123;</span><br><span class="line">			result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(sub));</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		Set&lt;Integer&gt; occ = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; input.length; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (occ.contains(input[i])) &#123;</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			sub.add(input[i]);</span><br><span class="line">			occ[i] = <span class="keyword">true</span>;</span><br><span class="line">			dfs(input, occ, sub, result);</span><br><span class="line">			sub.remove(sub.size() - <span class="number">1</span>);</span><br><span class="line">			occ[i] = <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Data-Structure/">Data Structure</a><a href="/tags/Algorithm/">Algorithm</a>
    </span>
    

    </div>

    
  </div>
  
    
    
  
</article>
   
    <div id="toc" class="toc-article ">
    <div class="toc-title">目录</div>
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Permutation"><span class="toc-number">1.</span> <span class="toc-text">Permutation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Permutation-II"><span class="toc-number">2.</span> <span class="toc-text">Permutation II</span></a></li></ol>
</div>


  

	<section id="comments" class="comment">
	  <div id="disqus_thread">
	  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	  </div>
	</section>

	<script type="text/javascript" defer>
	var disqus_shortname = 'evelynone';
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	</script>


	<!-- async load  -->
	<script>
			function async(u, c) {
				var d = document, t = 'script',
						o = d.createElement(t),
						s = d.getElementsByTagName(t)[0];
				o.src = u;
				if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
				s.parentNode.insertBefore(o, s);
			}
	</script>
	<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
	<script>
			async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
					anchors.options = {
						visible: 'hover',
						placement: 'left',
						// icon: '#'
					};
					anchors.add().remove('.article-title').remove('.subheading').remove('.sidebar-container h5');
			})
	</script>
	<style>
			/* place left on bigger screen */
			@media all and (min-width: 800px) {
					.anchorjs-link{
							position: absolute;
							left: -0.75em;
							font-size: 1.1em;
							margin-top : -0.1em;
					}
			}
	</style>




<!-- UY BEGIN -->
	<div id="gitment-container"></div>
	<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
	<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
	<script src="/js/web-pinyin.js"></script>
	<script>
		function toUnicode(s){ 
			return s.replace(/([\u4E00-\u9FA5]|[\uFE30-\uFFA0])/g,function(){
			return "\\u" + RegExp["$1"].charCodeAt(0).toString(16);
			});
		}
		var title = 'DFS 从入门到放弃 III'
		var GitHub_id = 'Evelyn3333'
		var client_id = 'a8d81cb40f4b02a4def9'
		var client_secret = 'c552e7bafbcb85ec6542468a14dc39fe9966bbdc'
		var repo = 'https://github.com/Evelyn3333/git_comment.git'
		var gitment = new Gitment({
		// id: '页面 ID', // 可选。默认为 location.href
		// id:"11" ,
		id: title,
		title: title,
		owner: GitHub_id,//'你的 GitHub ID',
		repo: repo,//'存储评论的 repo',
		oauth: {
			client_id: client_id,//'你的 client ID',
			client_secret: client_secret,//'你的 client secret',
		},
		})
		gitment.render('gitment-container')
	</script>
<!-- UY END -->




            </main>
          </div>
        </div>
       





    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/BosenY/Lap" target="_blank">Lap</a>
    <br/><span id="busuanzi_container_site_uv"> 
  本站访客数<span id="busuanzi_value_site_uv"></span>人次
</span>
    </br>
    
      
        &copy; 2018 Evelyn
      
    
  </p>
</footer>
    
  </div>

</div>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="https://cdn.bootcss.com/vue/2.5.13/vue.min.js"></script>
<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="/js/index.js"></script>
<script src="/js/search.js"></script>

</body>
</html>